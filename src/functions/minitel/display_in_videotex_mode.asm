LD5dc
display_in_videotex_mode
	LSR $3D
	PHP
	ROL $3D
	PLP
	BCS LD60F
	LDY $38
	BEQ LD60F
	PHA
	TXA
	PHA
	DEY
	LDA ($2E),Y
	BMI LD60B
	TAX
	LDA ($30),Y
	BMI LD5FB
	CPX #$20
	BNE LD60B
	BEQ LD600
LD5FB	
	TXA
	AND #$3F
	BNE LD60B
LD600	
	LDA $34
	AND #$07
	DEC $38
	JSR $D648 ; FIXME
	INC $38
LD60B	
	PLA
	TAX
	PLA
	CLC
LD60F	
	TAY
	BPL LD653	 
	TXA
	BMI LD63A 
	LDY #$00
	LDA #$9C
	STY RES
	STA RES+1
	TXA
	STA $03
	JSR routine_to_define_24 
	LDX #$07
LD625	
	LDA $9C00,X
	BIT $03
	BVS LD62F
	AND table_conversion_G1,X
LD62F	
	ORA #$40
	STA $9C00,X
	DEX
	BPL LD625
	JMP LD6B0 
LD63A	
	LDA #$00
	BCS LD640
	LDA $32
LD640	
	LSR
	LSR
	LSR
	LSR
	AND #$07
	ORA #$10
	LDX #$0F
LD64A	
	STA $9C00,X
	DEX
	BPL LD64A 
	JMP $D69F ; FIXME
LD653	
	TXA
	LDX #$13
	STX $03
	ASL
	ROL $03
	ASL
	ROL $03
	ASL
	ROL $03
	STA RESB
	LDY #$07
LD665	
	LDA (RESB),Y
	ORA #$40
	STA $9C00,Y
	DEY
	BPL LD665 ;
LD66F	
	LDY $38
LD671	
	LDA ($2E),Y
	BPL LD67B 
	AND #$04
	BNE LD680 
	BEQ LD685	
LD67B	
	DEY
	BPL LD671 
	BMI LD685
LD680	
	LDA #$3F
	STA $9C07
LD685	
	BIT $36
	BPL LD69F 
	LDX #$07
LD68B	
	LDA $9C00,X
	STA $02
	JSR compute_A_and_02_for_double_width
	STA $9C08,X
	JSR compute_A_and_02_for_double_width
	STA $9C00,X
	DEX
	BPL LD68B 
LD69F	
	BIT $34
	BVC LD6B0
	LDY #$0F
LD6A5
	LDA $9C00,Y
	ORA #$80
	STA $9C00,Y
	DEY
	BPL LD6A5
LD6B0	
	LDA $2C
	LDY $2D
	BIT $36
	BVC LD6BF
	SEC
	SBC #$40
	DEY
	BCS LD6BF 
	DEY
LD6BF	
	STA RES
	STY RES+1
	LDX #$00
	LSR $03
LD6c7	
	LDY $38
	LDA $9C00,X
	STA (RES),Y
	BIT $36
	BPL LD6D8 
	LDA $9C08,X
	INY
	STA (RES),Y
LD6D8	
	CLC
	LDA RES
	ADC #$28
	STA RES
	BCC LD6E3 
	INC RES+1
LD6E3	
	BIT $36
	BVC LD6EF 
	LDA $03
	EOR #$80
	STA $03
	BMI LD6c7
LD6EF	
	INX
	CPX #$08
	BNE LD6c7 
	RTS

	
	